{
  "tiles": {
    "tiles": [
      {
        "id": 0,
        "key": "WATER",
        "name": "Ocean/Lake",
        "glyph": "~",
        "colors": { "fill": "#0a1b2a", "fg": "#7aa2f7" },
        "properties": { "walkable": false, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["overworld", "region"],
        "tags": ["water"]
      },
      {
        "id": 7,
        "key": "RIVER",
        "name": "River",
        "glyph": "~",
        "colors": { "fill": "#0e2f4a", "fg": "#7aa2f7" },
        "properties": { "walkable": false, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["overworld", "region"],
        "tags": ["water"]
      },
      {
        "id": 8,
        "key": "BEACH",
        "name": "Beach",
        "glyph": " ",
        "colors": { "fill": "#b59b6a", "fg": "#d7ba7d" },
        "properties": { "walkable": true, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["overworld", "region"],
        "tags": ["shore"]
      },
      {
        "id": 6,
        "key": "SWAMP",
        "name": "Swamp",
        "glyph": ",",
        "colors": { "fill": "#1b2a1e", "fg": "#89ddff" },
        "properties": { "walkable": true, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["overworld", "region"],
        "tags": ["wetland"]
      },
      {
        "id": 2,
        "key": "FOREST",
        "name": "Forest",
        "glyph": " ",
        "colors": { "fill": "#0d2615", "fg": "#84cc16" },
        "properties": { "walkable": true, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["overworld", "region"],
        "tags": ["woods"],
        "decorators": [
          { "tile": "TREE", "density": 0.10, "sparse": true, "onlyInModes": ["region"] }
        ]
      },
      {
        "id": 1,
        "key": "GRASS",
        "name": "Plains",
        "glyph": " ",
        "colors": { "fill": "#10331a", "fg": "#cbd5e1" },
        "properties": { "walkable": true, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["overworld", "region"],
        "tags": ["plains"]
      },
      {
        "id": 3,
        "key": "MOUNTAIN",
        "name": "Mountain",
        "glyph": "▲",
        "colors": { "fill": "#2f2f34", "fg": "#e5e7eb" },
        "properties": { "walkable": false, "blocksFOV": true, "emitsLight": false },
        "appearsIn": ["overworld", "region"],
        "tags": ["solid"]
      },
      {
        "id": 9,
        "key": "DESERT",
        "name": "Desert",
        "glyph": " ",
        "colors": { "fill": "#c2a36b", "fg": "#e5e7eb" },
        "properties": { "walkable": true, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["overworld", "region"],
        "tags": ["arid"]
      },
      {
        "id": 10,
        "key": "SNOW",
        "name": "Snow",
        "glyph": " ",
        "colors": { "fill": "#b9c7d3", "fg": "#0b0f16" },
        "properties": { "walkable": true, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["overworld", "region"],
        "tags": ["cold"]
      },
      {
        "id": 4,
        "key": "TOWN",
        "name": "Town",
        "glyph": "T",
        "colors": { "fill": "#3a2f1b", "fg": "#d7ba7d" },
        "properties": { "walkable": true, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["overworld", "region"],
        "tags": ["settlement"]
      },
      {
        "id": 5,
        "key": "DUNGEON",
        "name": "Dungeon Entrance",
        "glyph": "D",
        "colors": { "fill": "#2a1b2a", "fg": "#c586c0" },
        "properties": { "walkable": true, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["overworld", "region"],
        "tags": ["entrance"]
      },
      {
        "id": 12,
        "key": "RUINS",
        "name": "Ruins",
        "glyph": "R",
        "colors": { "fill": "#2f2430", "fg": "#c3a6e8" },
        "properties": { "walkable": true, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["overworld", "region"],
        "tags": ["poi", "ruins"]
      },
      {
        "id": 13,
        "key": "RUIN_WALL",
        "name": "Ruin Wall",
        "glyph": "▒",
        "colors": { "fill": "#2b252a", "fg": "#a79aa6" },
        "properties": { "walkable": false, "blocksFOV": true, "emitsLight": false },
        "appearsIn": ["region"],
        "tags": ["ruins", "wall"]
      },
      {
        "id": 11,
        "key": "TREE",
        "name": "Tree",
        "glyph": "♣",
        "colors": { "fill": "#0f3b1e", "fg": "#3fa650" },
        "properties": { "walkable": true, "blocksFOV": true, "emitsLight": false },
        "appearsIn": ["region", "town"],
        "tags": ["decor", "woods"]
      },

      {
        "id": 0,
        "key": "WALL",
        "name": "Wall",
        "glyph": " ",
        "colors": { "fill": "#1b1f2a", "fg": "#cbd5e1" },
        "properties": { "walkable": false, "blocksFOV": true, "emitsLight": false },
        "appearsIn": ["dungeon"],
        "tags": ["solid"]
      },
      {
        "id": 1,
        "key": "FLOOR",
        "name": "Floor",
        "glyph": " ",
        "colors": { "fill": "#2a2418", "fg": "#e5e7eb" },
        "properties": { "walkable": true, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["dungeon", "town"],
        "tags": ["walkable"]
      },
      {
        "id": 2,
        "key": "DOOR",
        "name": "Door",
        "glyph": "+",
        "colors": { "fill": "#3a2f1b", "fg": "#d7ba7d" },
        "properties": { "walkable": true, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["dungeon", "town"],
        "tags": ["door"]
      },
      {
        "id": 3,
        "key": "STAIRS",
        "name": "Stairs",
        "glyph": ">",
        "colors": { "fill": "#3a2f1b", "fg": "#d7ba7d" },
        "properties": { "walkable": true, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["dungeon", "town"],
        "tags": ["stairs"]
      },
      {
        "id": 4,
        "key": "WINDOW",
        "name": "Window",
        "glyph": "\"",
        "colors": { "fill": "#295b6e", "fg": "#89ddff" },
        "properties": { "walkable": false, "blocksFOV": false, "emitsLight": true },
        "appearsIn": ["dungeon", "town"],
        "tags": ["window"]
      }
    ],
    "overrides": {
      "region": {
        "TREE": { "blocksFOV": true },
        "MOUNTAIN": { "blocksFOV": true },
        "WATER": { "blocksFOV": false },
        "RIVER": { "blocksFOV": false }
      },
      "dungeon": {
        "WALL": { "walkable": false, "blocksFOV": true },
        "STAIRS": { "glyph": ">" }
      },
      "town": {
        "WINDOW": { "emitsLight": true }
      }
    }
  },
  "props": {
    "props": [
      {
        "id": "well",
        "key": "WELL",
        "name": "Well",
        "glyph": "◍",
        "colors": { "fg": "#7aa2f7" },
        "properties": { "walkable": false, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["town"],
        "tags": ["decor"],
        "variants": [
          { "message": "You draw some cool water from the well. Refreshing.", "style": "good" }
        ]
      },
      {
        "id": "fountain",
        "key": "FOUNTAIN",
        "name": "Fountain",
        "glyph": "⛲",
        "colors": { "fg": "#89ddff" },
        "properties": { "walkable": false, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["town"],
        "tags": ["decor", "water"],
        "variants": [
          { "message": "You watch the fountain for a moment. You feel calmer.", "style": "info" }
        ]
      },
      {
        "id": "bench",
        "key": "BENCH",
        "name": "Bench",
        "glyph": "=",
        "colors": { "fg": "#8b7355" },
        "properties": { "walkable": true, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["town"],
        "tags": ["decor", "seat"],
        "variants": [
          { "message": "You rest a while.", "style": "info", "effect": { "type": "restTurn" } }
        ]
      },
      {
        "id": "lamp",
        "key": "LAMP",
        "name": "Lamp",
        "glyph": "†",
        "colors": { "fg": "#ffd166" },
        "properties": { "walkable": true, "blocksFOV": false, "emitsLight": true },
        "appearsIn": ["town"],
        "tags": ["decor", "light"],
        "light": { "castRadius": 4, "glowTiles": 2.2, "color": "#ffd166" },
        "variants": [
          { "message": "The lamp flickers warmly.", "style": "info" }
        ]
      },
      {
        "id": "stall",
        "key": "STALL",
        "name": "Market Stall",
        "glyph": "▣",
        "colors": { "fg": "#d7ba7d" },
        "properties": { "walkable": true, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["town"],
        "tags": ["decor", "market"],
        "variants": [
          { "message": "Stal: Fresh wares soon", "style": "notice" }
        ]
      },
      {
        "id": "tree",
        "key": "TREE",
        "name": "Tree",
        "glyph": "♣",
        "colors": { "fg": "#3fa650" },
        "properties": { "walkable": true, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["town"],
        "tags": ["decor", "woods"],
        "variants": [
          {
            "message": "You cut the tree.",
            "style": "notice",
            "effect": { "type": "grantMaterial", "material": "wood", "name": "planks", "amount": 10, "removeProp": true }
          }
        ]
      },
      {
        "id": "fireplace",
        "key": "FIREPLACE",
        "name": "Fireplace",
        "glyph": "♨",
        "colors": { "fg": "#ff6d00" },
        "properties": { "walkable": false, "blocksFOV": false, "emitsLight": true },
        "appearsIn": ["town"],
        "tags": ["decor", "light"],
        "light": { "castRadius": 3, "glowTiles": 1.8, "color": "#ff6d00" },
        "variants": [
          { "message": "You warm your hands by the fireplace.", "style": "info" }
        ]
      },
      {
        "id": "table",
        "key": "TABLE",
        "name": "Table",
        "glyph": "⊔",
        "colors": { "fg": "#cbd5e1" },
        "properties": { "walkable": false, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["town"],
        "tags": ["decor", "furniture"],
        "variants": [
          { "message": "A sturdy wooden table. Nothing of note on it.", "style": "info" }
        ]
      },
      {
        "id": "chair",
        "key": "CHAIR",
        "name": "Chair",
        "glyph": "⟂",
        "colors": { "fg": "#cbd5e1" },
        "properties": { "walkable": true, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["town"],
        "tags": ["decor", "furniture"],
        "variants": [
          { "message": "A simple wooden chair.", "style": "info" }
        ]
      },
      {
        "id": "bed",
        "key": "BED",
        "name": "Bed",
        "glyph": "‗",
        "colors": { "fg": "#cbd5e1" },
        "properties": { "walkable": false, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["town"],
        "tags": ["decor", "furniture"],
        "variants": [
          {
            "when": { "insideInn": true, "requiresInnStay": true },
            "message": "You lay down to sleep.",
            "style": "good",
            "effect": { "type": "sleepModal", "defaultMinutes": 240, "logTemplate": "You sleep for ${minutes} minutes (${time}). HP ${prev} -> ${hp}." }
          },
          {
            "when": { "insideInn": true },
            "message": "You need to rent a room from the innkeeper for the night.",
            "style": "warn"
          },
          { "message": "Looks comfy. Residents sleep here at night.", "style": "info" }
        ]
      },
      {
        "id": "chest",
        "key": "CHEST",
        "name": "Chest",
        "glyph": "□",
        "colors": { "fg": "#d7ba7d" },
        "properties": { "walkable": true, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["town"],
        "tags": ["decor", "container"],
        "variants": [
          { "message": "The chest is locked.", "style": "warn" }
        ]
      },
      {
        "id": "crate",
        "key": "CRATE",
        "name": "Crate",
        "glyph": "▢",
        "colors": { "fg": "#b59b6a" },
        "properties": { "walkable": true, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["town"],
        "tags": ["decor", "container"],
        "variants": [
          { "message": "A wooden crate. Might hold supplies.", "style": "info" }
        ]
      },
      {
        "id": "barrel",
        "key": "BARREL",
        "name": "Barrel",
        "glyph": "◍",
        "colors": { "fg": "#a07c4b" },
        "properties": { "walkable": true, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["town"],
        "tags": ["decor", "container"],
        "variants": [
          { "message": "A barrel. Smells of ale.", "style": "info" }
        ]
      },
      {
        "id": "shelf",
        "key": "SHELF",
        "name": "Shelf",
        "glyph": "≡",
        "colors": { "fg": "#cbd5e1" },
        "properties": { "walkable": false, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["town"],
        "tags": ["decor", "furniture"],
        "variants": [
          { "message": "A shelf with assorted goods.", "style": "info" }
        ]
      },
      {
        "id": "counter",
        "key": "COUNTER",
        "name": "Counter",
        "glyph": "▭",
        "colors": { "fg": "#d7ba7d" },
        "properties": { "walkable": false, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["town"],
        "tags": ["furniture", "shop"],
        "variants": [
          { "message": "Shop counter.", "style": "info" }
        ]
      },
      {
        "id": "plant",
        "key": "PLANT",
        "name": "Potted Plant",
        "glyph": "*",
        "colors": { "fg": "#84cc16" },
        "properties": { "walkable": true, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["town"],
        "tags": ["decor"],
        "variants": [
          { "message": "A potted plant adds some life.", "style": "info" }
        ]
      },
      {
        "id": "rug",
        "key": "RUG",
        "name": "Rug",
        "glyph": "░",
        "colors": { "fg": "#b59b6a" },
        "properties": { "walkable": true, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["town"],
        "tags": ["decor", "floor"],
        "variants": [
          { "message": "A cozy rug warms the floor.", "style": "info" }
        ]
      },
      {
        "id": "sign",
        "key": "SIGN",
        "name": "Sign",
        "glyph": "⚑",
        "colors": { "fg": "#d7ba7d" },
        "properties": { "walkable": true, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["town"],
        "tags": ["decor"],
        "variants": [
          {
            "when": { "nearShop": true },
            "message": "Sign: ${title}. ${schedule} — ${openNowStatus}",
            "style": "auto",
            "effect": { "type": "signSchedule" }
          },
          { "message": "Sign: ${title}", "style": "info" }
        ]
      },
      {
        "id": "quest_board",
        "key": "QUEST_BOARD",
        "name": "Quest Board",
        "glyph": "▤",
        "colors": { "fg": "#cbd5e1" },
        "properties": { "walkable": true, "blocksFOV": false, "emitsLight": false },
        "appearsIn": ["town"],
        "tags": ["ui", "quest"],
        "variants": [
          { "message": "Quest Board", "style": "info", "effect": { "type": "questBoard" } }
        ]
      },
      {
        "id": "wall_torch",
        "key": "WALL_TORCH",
        "name": "Wall Torch",
        "glyph": "†",
        "colors": { "fg": "#ffb84d" },
        "properties": { "walkable": false, "blocksFOV": false, "emitsLight": true },
        "appearsIn": ["dungeon"],
        "tags": ["decor", "light"],
        "light": { "castRadius": 4, "glowTiles": 1.8, "color": "#ffb84d" },
        "variants": [
          { "message": "A wall-mounted torch crackles softly.", "style": "info" }
        ]
      }
    ]
  }
}